$.fn.internalLinks=function(e){function t(e,t){var o=new XMLHttpRequest;o.onreadystatechange=function(){4===o.readyState&&t(o.status<400)},o.open("HEAD",e),o.send()}e=e||{};var o=function(e){return"/"===e.substr(-1)?e.substr(0,e.length-1):e}(e.baseUrl||"");$(this).each(function(n,i){if(i instanceof jQuery){var a=$(i),r=a.data("relative-pageid"),l=o+"/"+r;a.attr("href",l),e.urlExistsCheck&&t(l,function(e){e||a.addClass("broken-link")})}})},$(function(){function e(){var t=window.MutationObserver||window.WebKitMutationObserver;if(t){var n=new t(function(e,t){o(e)}),i=document.getElementById("courseApp");i?n.observe(i,{subtree:!0,childList:!0}):window.setTimeout(e,1e3)}}window.applyGlossarizer=function(e,t){var o,n,i=["p","blockquote","ol","ul","table",".Box_reading",".Box_Case_study",".Pull_out",".block_quote",".block_pullOut",".block_caseStudy",".block_reading",".block_tip",".block_example"],a="",r="true"===window.AppSettings.get().buildMode;if(r){var l=t&&!0===t.isPublished;for(o=l?"/coursedelivery/v1/courses/"+e+"/glossary":"/coursecontent/v1/courses/"+e+"/glossary",n=0;n<i.length;n++)a+=".element .contentPreview "+i[n]+", ",a+=".element content-element-activity-elements "+i[n]+", ",a+=".element > div > div > div > "+i[n]+", ";a=a.slice(0,-2)}else{for(o="/coursedelivery/v1/courses/"+e+"/glossary",n=0;n<i.length;n++)a+="section div.element > div > div > "+i[n]+", ",a+="section div.element > div > div > div > "+i[n]+", ",a+="section content-element-activity-instructions "+i[n]+", ";a=a.slice(0,-2)}var s={sourceURL:o,callback:function(){new tooltip},replaceOnce:!1,lookupTagName:a};jQuery.fn.glossarizer&&(r?$(".element").glossarizer(s):$("section").glossarizer(s))},window.applyMathJax=function(){if("undefined"!=typeof MathJax&&0===MathJax.Hub.queue.queue.length){var e=Boolean($("#content-container").length),t=Boolean($("#talk").length);e&&MathJax.Hub.Queue(["Typeset",MathJax.Hub,"content-container"]),t&&MathJax.Hub.Queue(["Typeset",MathJax.Hub,"talk"])}},window.applyMagnificPopup=function(){jQuery.fn.magnificPopup&&($(".video-modal").magnificPopup({type:"iframe",iframe:{patterns:{youtube:{index:"youtube.com/",id:"v=",src:"//www.youtube.com/embed/%id%?autoplay=1&rel=0"}}}}),$('.thumbnail-list .thumbnail:not(".add")').magnificPopup({type:"image",gallery:{enabled:!0,preload:[0,1],tCounter:""}}),$(".image-mfp").magnificPopup({type:"image",gallery:{enabled:!0,preload:[0,1],tCounter:""}}))},window.applyBigfoot=function(){var e={scope:".bigfoot",actionOriginalFN:"delete",anchorPattern:/(#fn|footnote|note)[:\-_\d]/gi,buttonMarkup:'<div class="bigfoot-footnote__container" ><button class="bigfoot-footnote__button"tabindex="0"role="complementary"aria-describedby="describe-{{FOOTNOTEID}}"id="{{SUP:data-footnote-backlink-ref}}"data-footnote-number="{{FOOTNOTENUM}}"data-footnote-identifier="{{FOOTNOTEID}}"alt="See Footnote {{FOOTNOTENUM}}"rel="footnote"data-bigfoot-footnote="{{FOOTNOTECONTENT}}"> <svg class="bigfoot-footnote__button__circle" viewbox="0 0 6 6" preserveAspectRatio="xMinYMin"><circle r="3" cx="3" cy="3" fill="white"></circle></svg> <svg class="bigfoot-footnote__button__circle" viewbox="0 0 6 6" preserveAspectRatio="xMinYMin"><circle r="3" cx="3" cy="3" fill="white"></circle></svg> <svg class="bigfoot-footnote__button__circle" viewbox="0 0 6 6" preserveAspectRatio="xMinYMin"><circle r="3" cx="3" cy="3" fill="white"></circle></svg> <div class="accessibility-container" id="describe-{{FOOTNOTEID}}"><span class="accessible">Footnote {{FOOTNOTENUM}}.{{FOOTNOTECONTENT}}</span></div></button></div>'};$("span.footnotes").length&&(e.footnoteTagname="span"),$.bigfoot(e)};var t=!1;$(document).ready(function(){t=!0});var o=_.debounce(function(){t&&($("#content-container table").each(function(){if(!$(this).hasClass("hljs-ln")){var e=$(this).parent();0==e.hasClass("table-responsive")?$(this).wrap('<div class="table-responsive redactor-table"></div>'):0==e.hasClass("redactor-table")&&e.addClass("redactor-table")}}),window.applyBigfoot(),window.applyMathJax(),window.formatCodeLines(),window.applyMagnificPopup())},1e3);o(),e()});var reversePad=function(e,t,o){for(var n="",i=String(e+1).length;i<t;i++)n+=o;return n};window.formatCodeLines=function(){var e=document.querySelectorAll("#courseContent .element div:not(.redactor-in) > pre, #courseContent .element .cloze-activity > .submitted-text > pre"),t=[];if(window.NodeList&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=Array.prototype.forEach),e.forEach(function(e){$(e).parents(".lrn").length||t.push(e)}),t)for(var o=0;o<t.length;o++)if(t[o].innerText&&!(t[o].innerHTML&&t[o].innerHTML.indexOf("codeline")>-1)){for(var n="",i="",a=t[o].innerHTML.split("\n"),r=String(a.length).length,l=0;l<a.length;l++)(l+1!=a.length||a[l].length>1)&&(n='<code><span class="codeline">'+(l+1)+reversePad(l,r,"&nbsp;")+"</span> "+a[l].replace("hljs ","")+"</code>\n",i+=n);t[o].innerHTML=i}};